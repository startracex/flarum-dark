(()=>{var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";e.r(t),e.d(t,{assetsURL:()=>s,mediaPreferences:()=>l,preferTheme:()=>d,setStyle:()=>i,updateTheme:()=>f,userPreferences:()=>u});var n="startracex-flarum-dark",r=n+"-change",o=function(e){return e.AUTO="auto",e.LIGHT="light",e.DARK="dark",e}({}),a="Theme";Object.values(o);const c=flarum.core.compat["common/app"];var m=e.n(c),l=function(){return null!=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?o.DARK:o.LIGHT},u=function(){var e;return(null==(e=m().session)||null==(e=e.user)||null==(e=e.preferences())?void 0:e[n])||localStorage.getItem(a)},d=function(){var e=u();return e&&e!==o.AUTO?e:l()},s=function(e){return n+".assets."+e},i=function(e){e===o.AUTO&&(e=l());var t=document.querySelector("link.theme-mode-link");t||((t=document.createElement("link")).rel="stylesheet",t.classList.add("theme-mode-link"),document.head.appendChild(t)),t.href=m().data[s(e)];var n=document.querySelector('meta[name="color-scheme"]');if(n)n.content=e;else{var r=document.createElement("meta");r.name="color-scheme",r.content=e,document.head.appendChild(r)}document.documentElement.setAttribute("data-theme",e)},f=function(e,t){var o;localStorage.setItem(a,e),document.dispatchEvent(new CustomEvent(r,{detail:e})),t?t.savePreferences((o={},o[n]=e,o)).then((function(){i(e)})):i(e)};const p=flarum.core.compat["common/extend"],h=flarum.core.compat["common/components/Page"];var v=e.n(h);(0,p.extend)(v().prototype,"oninit",(function(){i(d())}))})(),module.exports=t})();
//# sourceMappingURL=admin.js.map